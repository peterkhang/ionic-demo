{"version":3,"sources":["webpack:///src/app/pages/main/main.scss","webpack:///src/app/pages/main/main.module.ts","webpack:///src/app/pages/main/main.ts","webpack:///src/app/pages/main/main.html"],"names":["MainPageModule","imports","forChild","path","component","declarations","MainPage","platform","auth","callback","dictation","presentAlert","reaction","initializeApp","ready","then","getUser","user","err","showError","navigateRoot","logout","setTitle","undefined","data","url","email","modal","create","componentProps","onDidDismiss","params","console","log","JSON","stringify","present","read","selector","template"],"mappings":"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","file":"pages-main-main-module-es5.js","sourcesContent":["export default \"ion-content {\\n  position: relative !important;\\n  width: 100%;\\n  height: 100%;\\n  margin-bottom: 0;\\n}\\nion-content .titleArea {\\n  height: 30%;\\n  width: 100%;\\n  padding: 1em;\\n  color: var(--bory-blue);\\n  font-size: 1em;\\n}\\nion-content .menuArea {\\n  height: 70%;\\n  width: 100%;\\n  padding: 1em;\\n  text-align: center;\\n}\\nion-content .menuArea img {\\n  width: 90%;\\n  height: auto;\\n}\\nion-fab {\\n  width: 50px;\\n  height: 50px;\\n}\\nion-fab ion-fab-button {\\n  margin-bottom: 7em;\\n  background-color: var(--bory-blue);\\n}\\nion-fab ion-fab-button .fab ion-icon {\\n  color: white;\\n}\\n/*# sourceMappingURL=data:application/json;base64,eyJ2ZXJzaW9uIjozLCJzb3VyY2VzIjpbIi4uLy4uLy4uLy4uL21haW4uc2NzcyJdLCJuYW1lcyI6W10sIm1hcHBpbmdzIjoiQUFFQTtFQUNJLDZCQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSxnQkFBQTtBQURKO0FBR1E7RUFDQSxXQUFBO0VBQ0EsV0FBQTtFQUNBLFlBQUE7RUFDQSx1QkFBQTtFQUNBLGNBQUE7QUFEUjtBQUlJO0VBQ0ksV0FBQTtFQUNBLFdBQUE7RUFDQSxZQUFBO0VBQ0Esa0JBQUE7QUFGUjtBQUlRO0VBQ0ksVUFBQTtFQUNBLFlBQUE7QUFGWjtBQU9BO0VBQ0ksV0FBQTtFQUNBLFlBQUE7QUFKSjtBQU9BO0VBQ0ksa0JBQUE7RUFDQSxrQ0FBQTtBQUpKO0FBTUk7RUFDSSxZQUFBO0FBSlIiLCJmaWxlIjoibWFpbi5zY3NzIiwic291cmNlc0NvbnRlbnQiOlsiXG4gICAgXG5pb24tY29udGVudCB7XG4gICAgcG9zaXRpb246IHJlbGF0aXZlICFpbXBvcnRhbnQ7XG4gICAgd2lkdGg6IDEwMCU7XG4gICAgaGVpZ2h0OiAxMDAlIDtcbiAgICBtYXJnaW4tYm90dG9tOjA7XG4gICAgICAgIFxuICAgICAgICAudGl0bGVBcmVhIHtcbiAgICAgICAgaGVpZ2h0OjMwJTtcbiAgICAgICAgd2lkdGg6MTAwJTtcbiAgICAgICAgcGFkZGluZzogMWVtO1xuICAgICAgICBjb2xvcjogdmFyKC0tYm9yeS1ibHVlKSA7XG4gICAgICAgIGZvbnQtc2l6ZTogMWVtO1xuICAgIH1cblxuICAgIC5tZW51QXJlYSB7XG4gICAgICAgIGhlaWdodDo3MCU7XG4gICAgICAgIHdpZHRoOjEwMCU7XG4gICAgICAgIHBhZGRpbmc6IDFlbTtcbiAgICAgICAgdGV4dC1hbGlnbjogY2VudGVyO1xuXG4gICAgICAgIGltZyB7XG4gICAgICAgICAgICB3aWR0aDogOTAlIDtcbiAgICAgICAgICAgIGhlaWdodDogYXV0byA7XG4gICAgICAgIH1cbiAgICB9XG59XG5cbmlvbi1mYWIge1xuICAgIHdpZHRoOiA1MHB4O1xuICAgIGhlaWdodDo1MHB4O1xufVxuXG5pb24tZmFiIGlvbi1mYWItYnV0dG9uIHtcbiAgICBtYXJnaW4tYm90dG9tOiA3ZW07ICAgICAgICAgIFxuICAgIGJhY2tncm91bmQtY29sb3I6IHZhcigtLWJvcnktYmx1ZSkgO1xuICAgIFxuICAgIC5mYWIgaW9uLWljb24gIHtcbiAgICAgICAgY29sb3I6IHdoaXRlO1xuICAgIH0gXG4gICAgXG59XG4iXX0= */\";","import { NgModule } from '@angular/core';\nimport { CommonModule } from '@angular/common';\nimport { FormsModule, ReactiveFormsModule } from '@angular/forms';\nimport { IonicModule } from '@ionic/angular';\nimport { RouterModule } from '@angular/router';\nimport { MainPage } from './main';\n\n@NgModule({\n    imports: [\n        CommonModule,\n        FormsModule,\n        ReactiveFormsModule,\n        IonicModule,\n        RouterModule.forChild([\n            {\n                path: '',\n                component: MainPage\n            }\n        ])\n    ],\n    declarations: [MainPage]\n})\nexport class MainPageModule { }","import {Component,ViewChild,ElementRef } from '@angular/core';\nimport { AuthServiceProvider } from '../../providers/auth-service/auth-service';\nimport {Platform} from '@ionic/angular';\nimport {common} from 'src/app/providers/common/common';\nimport { DictationPage } from './../dictation/dictation';\n\n@Component({\n  selector: 'page-main',\n  templateUrl: 'main.html',\n  styleUrls: ['./main.scss']\n})\n/**\n * SDUA 앱 초기 메인 화면 페이지 클래스\n */\nexport class MainPage  {\n\n  @ViewChild('splashDiv',{read: ElementRef, static: false}) splashDiv: any;\n\n  constructor(public platform: Platform, public auth: AuthServiceProvider) {\n     \n    this.initializeApp() ;\n  }\n\n\n  initializeApp() {\n    //this.splashScreen.show();\n    this.auth.platform.ready().then(() => {\n      // Okay, so the platform is ready and our plugins are available.\n      // Here you can do any higher level native things you might need.\n\n      this.auth.getUser()\n         .then((user) => {\n          this.auth.user = user ;\n      }, err => {\n        this.auth.showError(err) ;\n        this.auth.navigateRoot('LoginPage') ;\n      });\n      // this.auth.getUser()\n      //   .then((user) => {\n      //     this.auth.get('/api/accessToken')\n      //       .then((res: any) => {\n      //         this.auth.user=res;\n      //         this.auth.setStorage(common.USER,res);\n      //       },(err) => {\n      //         this.auth.removeStorage(common.USER);\n      //         this.auth.user=null;\n      //         this.auth.navigateRoot('/LoginPage');\n      //       });\n      //   },(err) => {\n      //     this.auth.removeStorage(common.USER);\n      //     this.auth.user=null;\n      //     this.auth.navigateRoot('/LoginPage');\n      //   });\n    });\n  }\n\n  /**\n   * 로그인 페이지로 전환해 주는 함수\n   */\n  login() {\n    this.auth.navigateRoot('/LoginPage');\n  }\n\n  /**\n   * 로그인 정보를 해제하고 로그인 화면으로 전환해 주는 함수\n   */\n  logout() {\n    this.auth.logout();\n    this.auth.navigateRoot('/LoginPage');\n  }\n\n\n  ionViewWillEnter() {\n\n    this.auth.setTitle('홈');  \n    this.auth.getUser().then(user => {\n      if( user === undefined || user == null ){\n        this.auth.navigateRoot('/LoginPage') ;\n      }\n    }, err => {\n        this.auth.navigateRoot('/LoginPage');\n    }) ;\n  }\n\n  /**\n   * 상세 정보 팝업 다이얼로그 클래스에서 수정한 내용을 리턴해 주는 Callback 함수\n   * @param {any} dictation 수정된 분석 정보\n   */\n  public callback = (dictation) => {\n    if (dictation != null ) {\n      this.auth.presentAlert(dictation.reaction) ;\n    }\n  }\n\n  public async popupModalPage() {\n    const data = {\n      url: 'https://www.youtube.com/watch?v=VZR9TmL4-JQ',\n      email: this.auth.user.email,\n      reaction: null\n    } ;\n    const modal = await this.auth.modal.create({\n      component: DictationPage,\n      componentProps: data\n    }) ;\n\n    modal.onDidDismiss().then((params: any) => {\n       console.log(JSON.stringify(params.data));\n       if( params.data.reaction )\n          this.auth.presentAlert(params.data.reaction) ;\n    }) ;\n\n    await modal.present();\n  }\n}\n","export default \"<ion-header>\\n  <ion-toolbar color=\\\"--bory-blue\\\">\\n    <ion-buttons slot=\\\"start\\\">\\n      <ion-menu-button></ion-menu-button>\\n    </ion-buttons>\\n    <ion-title>\\n      IonicDemo::PopupDemo\\n    </ion-title>\\n  </ion-toolbar>\\n</ion-header>\\n\\n    <ion-content class=\\\"ion-padding\\\">\\n\\n\\n      <div class=\\\"titleArea\\\">\\n        <h3>IonicDemo</h3>\\n      \\n        <p>\\n          Please click the below button\\n        </p>\\n      </div>\\n\\n      <div class=\\\"menuArea\\\">\\n        <button (click)=\\\"popupModalPage()\\\"><img src=\\\"{{auth.root}}assets/icon/analysis.svg\\\"/></button>\\n      </div>\\n\\n    </ion-content>\";"]}